#[
    Simple, yet loud, Enumeration with Nim
    LoudEnum.nim
    
    author: Russell Brinson
    license: GNUv3
]#

import std/os
import std/osproc
import std/net


proc writeHelp() = 
    echo """
    This is just a fun experiment in nim to learn some of the language
    """

var
    CurrentDir = getCurrentDir()
    whoami = execCmdEx("whoami")
    severAddress: string = readline(stdin)
    serverPort: int32 = 80


proc clientMode(svrAddr: string, svrPort: int32) = 
    let socket = newSocket()
    socket.connect(svrAddr, Port(svrPort))
    socket.send("hello")
    

echo("Current Directory is ", CurrentDir)
echo("whoami: ", whoami[0])
echo("Attempting to connect to ", severAddress, " on port ", serverPort)
clientMode(severAddress, serverPort)

echo("Press Any Key to Exit")
discard readline(stdin)